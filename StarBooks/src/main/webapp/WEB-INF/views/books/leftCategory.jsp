<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<article class="left-category">
	<nav>
		<ul class="category-menu">
				<li class="main-category ct100"><a href="${cpath }/books/category/100?str=소설">소설</a>
					<ul class="sub-category">
						<li class="cl100"><a href="${cpath }/books/category/100?str=소설">소설 전체</a></li>
						<li class="cl100010010"><a href="${cpath }/books/category/100010010?str=한국">한국소설</a></li>
						<li class="cl100010020"><a href="${cpath }/books/category/100010020?str=영미">영미소설</a></li>
						<li class="cl100010030"><a href="${cpath }/books/category/100010030?str=일본">일본소설</a></li>
						<li class="cl100010040"><a href="${cpath }/books/category/100010040?str=중국">중국소설</a></li>
						<li class="cl100010050"><a href="${cpath }/books/category/100010050?str=러시아">러시아소설</a></li>
						<li class="cl100010060"><a href="${cpath }/books/category/100010060?str=프랑스">프랑스소설</a></li>
						<li class="cl100010070"><a href="${cpath }/books/category/100010070?str=독일">독일소설</a></li>
						<li class="cl100010080"><a href="${cpath }/books/category/100010080?str=기타국가" >기타국가소설</a></li>
					</ul>
				</li>
				<li class="main-category ct160"><a href="${cpath }/books/category/160?str=경영">경영/경제</a>
					<ul class="sub-category" >
						<li class="cl160"><a href="${cpath }/books/category/160?str=경영"">경영일반</a></li>
						<li class="cl160010"><a href="${cpath }/books/category/160010?str=경제"">경제일반</a></li>
						<li class="cl160030"><a href="${cpath }/books/category/160030?str=마케팅">마케팅/세일즈</a></li>
						<li class="cl160040"><a href="${cpath }/books/category/160040?str=재테크">재테크/금융/부동산</a></li>
						<li class="cl160050"><a href="${cpath }/books/category/160050?str=창업">창업</a></li>
					</ul>
				</li>
				<li class="main-category ct180"><a href="${cpath }/books/category/180?str=사회">사회</a>
					<ul class="sub-category" >
						<li class="cl180"><a href="${cpath }/books/category/180010?str=정치">사회 전체</a></li>
						<li class="cl180010"><a href="${cpath }/books/category/180010?str=정치">정치/외교</a></li>
						<li class="cl180020"><a href="${cpath }/books/category/180020?str=행정">행정/정책</a></li>
						<li class="cl180030"><a href="${cpath }/books/category/180030?str=국방/군사/경찰">국방/군사/경찰</a></li>
						<li class="cl180040"><a href="${cpath }/books/category/180040?str=법">법</a></li>
						<li class="cl180050"><a href="${cpath }/books/category/180050?str=사회학">사회학</a></li>
					</ul>
				</li>
				<li class="main-category ct170"><a href="${cpath }/books/category/170?str=자기계발">자기계발</a>
					<ul class="sub-category" >
						<li class="cl170"><a href="${cpath }/books/category/170?str=자기계발">자기계발 전체</a></li>
						<li class="cl170010"><a href="${cpath }/books/category/170010?str=성공">성공/처세</a></li>
						<li class="cl170020"><a href="${cpath }/books/category/170020?str=시간관리">시간관리</a></li>
						<li class="cl170030"><a href="${cpath }/books/category/170030?str=자기능력계발">자기능력계발</a></li>
						<li class="cl170040"><a href="${cpath }/books/category/170040?str=인간관계">인간관계</a></li>
						<li class="cl170050"><a href="${cpath }/books/category/170050?str=대화">대화/협상</a></li>
					</ul>
				</li>
				
				<li class="main-category ct230"><a href="${cpath }/books/category/230?str=국어">국어/외국어</a>
					<ul class="sub-category" >
						<li class="cl230"><a href="${cpath }/books/category/230?str=국어">국어</a></li>
						<%-- <li class="cl230010"><a href="${cpath }/books/category/230010?str=국어">국어</a></li> --%>
						<li class="cl230020"><a href="${cpath }/books/category/230020?str=영어">영어</a></li>
						<li class="cl230030"><a href="${cpath }/books/category/230030?str=일본어">일본어</a></li>
						<li class="cl230040"><a href="${cpath }/books/category/230040?str=중국어">중국어</a></li>
						<li class="cl230050"><a href="${cpath }/books/category/230050?str=기타외국어">기타외국어</a></li>
					</ul>
				</li>
				<li class="main-category ct250"><a href="${cpath }/books/category/250?str=과학">과학</a>
					<ul class="sub-category" >
						<li class="cl250"><a href="${cpath }/books/category/250?str=과학">과학 전체</a></li>
						<li class="cl250"><a href="${cpath }/books/category/250?str=과학일반">과학일반</a></li>
						<li class="cl250"><a href="${cpath }/books/category/250?str=수학">수학</a></li>
						<li class="cl250"><a href="${cpath }/books/category/250?str=자연과학">자연과학</a></li>
						<li class="cl250"><a href="${cpath }/books/category/250?str=응용과학">응용과학</a></li>
					</ul>
				</li>			
				<li class="main-category ct280"><a href="${cpath }/books/category/280?str=컴퓨터">컴퓨터/IT</a>
					<ul class="sub-category" >
						<li class="cl280"><a href="${cpath }/books/category/280?str=컴퓨터">컴퓨터/IT 전체</a></li>
						<li class="cl280010"><a href="${cpath }/books/category/280010?str=웹">웹/컴퓨터입문/활용</a></li>
						<li class="cl280020"><a href="${cpath }/books/category/280020?str=IT">IT 전문서</a></li>
						<li class="cl280030"><a href="${cpath }/books/category/280030?str=그래픽">그래픽/멀티미디어</a></li>
						<li class="cl280040"><a href="${cpath }/books/category/280040?str=오피스">오피스활용도서</a></li>
						<li class="cl280050"><a href="${cpath }/books/category/280050?str=컴퓨터">컴퓨터수험서</a></li>
					</ul>
				</li>
				<li class="main-category ct110"><a href="${cpath }/books/category/110?str=시 에세이">에세이/시</a>
					<ul class="sub-category" >
						<li class="cl110"><a href="${cpath }/books/category/110?str=시 에세이">에세이/시 전체</a></li>
						<li class="cl110030"><a href="${cpath }/books/category/110030?str=에세이">에세이</a></li>
						<li class="cl110010"><a href="${cpath }/books/category/110010?str=시">한국시</a></li>
						<li class="cl110020"><a href="${cpath }/books/category/110020?str=시">외국시</a></li>
					</ul>
				</li>
				<li class="main-category ct270"><a href="${cpath }/books/category/270?str=여행">여행</a>
					<ul class="sub-category" >
						<li class="cl270"><a href="${cpath }/books/category/270?str=여행">여행 전체</a></li>
						<li class="cl270010"><a href="${cpath }/books/category/270010?str=국내여행">국내여행</a></li>
						<li class="cl270020"><a href="${cpath }/books/category/270020?str=해외여행">해외여행</a></li>
					</ul>
				</li>
				<li class="main-category ct200"><a href="${cpath }/books/category/200?str=종교">종교</a>
					<ul class="sub-category" >
						<li class="cl200"><a href="${cpath }/books/category/200?str=종교">종교 전체</a></li>
						<li class="cl200010"><a href="${cpath }/books/category/200010?str=종교일반">종교일반</a></li>
						<li class="cl200020"><a href="${cpath }/books/category/200020?str=기독교">기독교</a></li>
						<li class="cl200030"><a href="${cpath }/books/category/200030?str=가톨릭">가톨릭</a></li>
						<li class="cl200040"><a href="${cpath }/books/category/200040?str=불교">불교</a></li>
						<li class="cl200050"><a href="${cpath }/books/category/200050?str=기타">기타</a></li>
					</ul>
				</li>
				
			</ul>
	</nav>
	
<script type="text/javascript">
const ctPath = document.location.href;				// book의 주소 
const ctClickArr = clickPath.split('/');				// 주소를 배열로 저장
const num = ctClickArr[ctClickArr.length-1];		//	 배열의 마지막 -> 분류번호 -> li style적용 등 활용
const num1 = num.substring(0,3);
const linum = num.split('?');
console.log(linum[0]);

const ctLi = document.querySelector('.ct'+ num1);		// 주소에 해당되는 목록 
ctLi.classList.add('cateOn');										// (초기화) -> style을 적용할 class 붙여주기
const li = document.querySelectorAll('.main-category');		// 다른 목록을 선택시
li.forEach(li=>li.onclick=function(e){
	e.preventDefault();
	const cateOn = document.querySelector('.cateOn');			// 기존 적용된 목록 있으면 불러오기
	if(cateOn != null){		
		cateOn.classList.remove('cateOn');								// 기존 style 적용 없애기
	}
	e.currentTarget.classList.add('cateOn');							// 선택한 목록에 style 적용
	location.href =e.target.href;									// 해당 주소로 이동
});

const cateli =  document.querySelector('.cl' + linum[0]);
cateli.classList.add('cateliOn');


</script>
</article>


